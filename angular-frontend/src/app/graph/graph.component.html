<svg #graphContainer1 appResizeObserver (resize)="updateGraph1Dimensions($event)">
  <g [attr.transform]="marginTransform()">

    <g #xAxis1 [attr.transform]="xAxis1TransformString()">

    </g>
    <g #yAxis1 [attr.transform]="yAxis1TransformString()"></g>
    @for (path of viewPort.paths(); track $index) {  <!--Copy of dataservice svg-->
      <path [attr.d]="path.d" fill="none" [attr.stroke]="path.color" stroke-width="2" />
    }
  </g>
</svg>
<svg #graphContainer appResizeObserver (resize)="updateGraphDimensions($event)">
    <g [attr.transform]="marginTransform()">

        <g #xAxis [attr.transform]="xAxisTransformString()">

        </g>
        <g #yAxis [attr.transform]="yAxisTransformString()"></g>
        @for (path of dataservice.paths(); track $index) {
            <path [attr.d]="path.d" fill="none" [attr.stroke]="path.color" stroke-width="2" />  <!--Changed stroke, so it uses the color value in path-->
        }
    </g>
</svg>

<div id="selection">
    <app-start-data-button />
    <button mat-button color="primary" (click)="clearData() ">Clear Data</button>
    @if (this.stopped) {
    <button class="pause-play" mat-icon-button color="primary" (click)="toggleData()">
        <mat-icon style="color: green;">play_arrow</mat-icon>
    </button>
    } @else {
    <button class="pause-play" mat-icon-button color="warn" (click)="toggleData()">
        <mat-icon style="color: red;">pause</mat-icon>
    </button>
    }
    <mat-checkbox (change)="onXAxisTimeModeToggle($event.checked)">
        Relative Time
    </mat-checkbox>
    <app-device-list />
</div>

<div> <!-- style="display: none;"-->
    <h4>Debug Output</h4>

    <div>  <!--Debug information for incoming path data-->
        <ul>
            @for (path of dataservice.paths(); track $index) {
                <li>
                <ul>
                        <li>Id: {{path.id}}, Color: {{path.color}}</li>
                        <li>Path: {{path.d}}</li>

                </ul>
                </li>
            }
        </ul>
    </div>

    <div>
        <strong>X Scale Domain:</strong>
        <pre>{{ dataservice.xScale().domain() | json }}</pre>
    </div>

    <div>
        <strong>X Scale Range:</strong>
        <pre>{{ dataservice.xScale().range() | json }}</pre>
    </div>

    <div>
        <strong>Y Scale Domain:</strong>
        <pre>{{ dataservice.yScale().domain() | json }}</pre>
    </div>

    <div>
        <strong>Y Scale Range:</strong>
        <pre>{{ dataservice.yScale().range() | json }}</pre>
    </div>

    <div>
        <strong>X Axis Transform:</strong>
        <pre>{{ xAxisTransformString() }}</pre>
    </div>

    <div>
        <strong>Y Axis Transform:</strong>
        <pre>{{ yAxisTransformString() }}</pre>
    </div>

    <div>
        <strong>Graph Dimensions:</strong>
        <pre>{{ dataservice.graphDimensions() | json }}</pre>
    </div>

</div>
